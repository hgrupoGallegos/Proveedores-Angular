import{Ia as u,Na as b,Oa as c,b as s,j as v,t as o,w as r}from"./chunk-MMKYUMEW.js";var l=class i{tableHeaders=["Preferente","Cuenta","Banco","Beneficiario","Clabe","Sucursal","Referencia"];helperService=r(c);formatPaymentDetails(e){return e.map(a=>({preferente:a.preferente,cuenta:a.cuenta.trim(),banco:a.banco.trim(),beneficiario:a.beneficiario.trim(),clabe:a.clabe.trim(),sucursal:a.sucursal.toString().trim(),referencia:a.referencia.trim()})).map(a=>this.helperService.replaceEmptyStrings(a)).sort((a,D)=>a.preferente===D.preferente?0:a.preferente?-1:1)}getTableHeaders(){return[...this.tableHeaders]}static \u0275fac=function(t){return new(t||i)};static \u0275prov=o({token:i,factory:i.\u0275fac,providedIn:"root"})};var p=class i{helperService=r(c);formatInformation(e){let t={clave:e.clave.toString().trim(),tipoPersona:e.tipopersona===1?"fisica":"moral",rfc:e.rfc.trim(),curp:e.curp.trim(),nombre:e.nombre.trim(),apellidoPaterno:e.apaterno.trim(),apellidoMaterno:e.amaterno.trim(),razonSocial:e.razonsocial.trim(),direccionFiscal:e.direccion.trim(),colonia:e.colonia.trim(),codigoPostal:e.cp.toString().trim(),ciudad:e.ciudad.trim(),estado:e.estado.trim(),email:e.email.trim()};return this.helperService.replaceEmptyStrings(t)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=o({token:i,factory:i.\u0275fac,providedIn:"root"})};var d=class i{helperService=r(c);formatConditions(e){let t={anticipo:e.anticipo,restante:e.restante,tipoPago:e.condicion===1?"ContraEntrega":"Credito",dias:e.dias,lineaCredito:e.lineacredito,iva:e.iva,retencionIva:e.retencioniva.trim(),retencionIsr:e.retencionisr.trim(),vencimiento:e.vencimiento===1?"FechaFactura":"FechaRecepcion",pagoTransferencia:e.transferencia};return this.helperService.replaceEmptyStrings(t)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=o({token:i,factory:i.\u0275fac,providedIn:"root"})};var f=class i{tableHeaders=["Tipo de Contacto","Nombre","Tel\xE9fono","Celular","Otro Celular","Correo Electr\xF3nico"];helperService=r(c);formatContacts(e){return e.map(n=>({tipoContacto:n.tipo.trim(),nombre:n.nombre.trim(),telefono:n.tel,celular:n.movil,otroCelular:n.otro.trim(),email:n.email.trim()})).map(n=>this.helperService.replaceEmptyStrings(n))}getTableHeaders(){return[...this.tableHeaders]}static \u0275fac=function(t){return new(t||i)};static \u0275prov=o({token:i,factory:i.\u0275fac,providedIn:"root"})};var S=class i{http=r(u);informationService=r(p);conditionsService=r(d);paymentDetailsService=r(l);contactsService=r(f);tabs=[{id:"information",name:"Informaci\xF3n"},{id:"contacts",name:"Contactos"},{id:"payment",name:"Datos de pago"},{id:"conditions",name:"Condiciones"},{id:"password",name:"Contrase\xF1a"}];informationSource=new s({});contactsSource=new s([]);paymentDetailsSource=new s([]);conditionsSource=new s({});information$=this.informationSource.asObservable();contacts$=this.contactsSource.asObservable();paymentDetails$=this.paymentDetailsSource.asObservable();conditions$=this.conditionsSource.asObservable();getTabs(){return[...this.tabs]}isDataLoaded(){return localStorage.getItem("details.loaded")==="true"}updateInformation(e){let t=this.informationService.formatInformation(e);this.informationSource.next(t)}updateContacts(e){let t=this.contactsService.formatContacts(e);this.contactsSource.next(t)}updatePaymentDetails(e){let t=this.paymentDetailsService.formatPaymentDetails(e);localStorage.setItem("details.bankAccounts",JSON.stringify(t)),this.paymentDetailsSource.next(t)}updateConditions(e){let t=this.conditionsService.formatConditions(e);this.conditionsSource.next(t)}detailRequest(){return v(()=>this.http.post(`${b.API_URL}/Details.aspx`,{}))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=o({token:i,factory:i.\u0275fac,providedIn:"root"})};export{l as a,f as b,S as c};
