import{a as Ie}from"./chunk-FTSKMZ25.js";import{a as Pe,b as De,c as x}from"./chunk-SE5NYA22.js";import{a as z}from"./chunk-4BABL3KU.js";import"./chunk-CF4FKG4D.js";import{a as Te}from"./chunk-AJZXPOTM.js";import{a as j}from"./chunk-TVLHVE3P.js";import{a as Fe}from"./chunk-UGHFU27J.js";import{a as ve,b as k,c as d,d as F,e as M,f as ye,g as we,h as Ce,i as $,j as V,l as O,m as he,n as xe,o as Se,p as _e,q as Ee,r as A,s as I,t as P}from"./chunk-LEWYKQGU.js";import{$ as te,A as C,Ca as E,Da as N,Ea as h,Ga as v,Ia as fe,J as l,M as b,Na as ge,Oa as B,Q as f,Ra as be,S as ae,T as m,W as i,X as e,Y as s,Z as le,_ as se,aa as T,ba as y,ea as R,fa as q,ga as H,ha as me,ia as a,j as re,ka as u,ma as de,na as pe,oa as ce,qa as _,t as oe,ua as ue,w as p,y as Y,z as ee}from"./chunk-MMKYUMEW.js";import{f as ne}from"./chunk-EQDQRRRY.js";var ke=["paymentTable"],Me=t=>({"flex items-center":t});function Ve(t,r){t&1&&(C(),i(0,"svg",10),s(1,"path",11),e())}function Oe(t,r){if(t&1&&(i(0,"th",7)(1,"span",8),a(2),f(3,Ve,2,0,"svg",9),e()()),t&2){let n=r.$implicit,o=y();ae("data-sortable",o.isSortable(n)),l(),m("ngClass",_(4,Me,o.isSortable(n))),l(),u(" ",n," "),l(),m("ngIf",o.isSortable(n))}}function Ae(t,r){t&1&&(le(0),C(),i(1,"svg",15),s(2,"path",16)(3,"path",17),e(),se())}function Ge(t,r){t&1&&(C(),i(0,"svg",18),s(1,"rect",19),e())}function Le(t,r){if(t&1&&(i(0,"tr",12)(1,"td",13),f(2,Ae,4,0,"ng-container",14)(3,Ge,2,0,"ng-template",null,1,ue),e(),i(5,"td",13),a(6),e(),i(7,"td",13),a(8),e(),i(9,"td",13),a(10),e(),i(11,"td",13),a(12),e(),i(13,"td",13),a(14),e(),i(15,"td",13),a(16),e()()),t&2){let n=r.$implicit,o=me(4);l(2),m("ngIf",n.preferente)("ngIfElse",o),l(4),u(" ",n.cuenta," "),l(2),u(" ",n.banco," "),l(2),u(" ",n.beneficiario," "),l(2),u(" ",n.clabe," "),l(2),u(" ",n.sucursal," "),l(2),u(" ",n.referencia," ")}}var Q=class t{paymentDetailsService=p(Pe);dataTableService=p(z);detailsService=p(x);tableHeaders=this.paymentDetailsService.getTableHeaders();allPaymentDetails=[];paymentTable;dt;ngOnInit(){this.detailsService.paymentDetails$.subscribe(r=>{this.allPaymentDetails=r}),this.isSortable()}isSortable(r){return this.dataTableService.isSortable({header:r,toExclude:["Preferente"],data:this.allPaymentDetails})}ngAfterViewInit(){this.initializeDataTable()}ngOnDestroy(){this.destroyTable()}initializeDataTable(){this.destroyTable();let r=this.dataTableService.isSortable({data:this.allPaymentDetails});this.dt=this.dataTableService.createDataTable({htmlElementTable:this.paymentTable.nativeElement,searchable:!0,perPage:5,perPageSelect:!1,sortable:r,paging:!0})}destroyTable(){this.dt&&this.dt.destroy()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=b({type:t,selectors:[["app-payment-details"]],viewQuery:function(n,o){if(n&1&&R(ke,5),n&2){let c;q(c=H())&&(o.paymentTable=c.first)}},decls:8,vars:2,consts:[["paymentTable",""],["uncheckPreferente",""],[1,"overflow-x-auto","rounded-lg"],[1,"min-w-full","divide-y","divide-gray-300","rounded-lg"],["class","bg-green-600 text-white px-4 py-2 text-sm font-medium tracking-wider",4,"ngFor","ngForOf"],[1,"bg-white","divide-y","divide-gray-300"],["class","border-b hover:bg-gray-50 text-center text-sm",4,"ngFor","ngForOf"],[1,"bg-green-600","text-white","px-4","py-2","text-sm","font-medium","tracking-wider"],[1,"uppercase",3,"ngClass"],["class","w-4 h-4 ms-1","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-4","h-4","ms-1"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m8 15 4 4 4-4m0-6-4-4-4 4"],[1,"border-b","hover:bg-gray-50","text-center","text-sm"],[1,"px-4","py-2"],[4,"ngIf","ngIfElse"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"w-5","h-5","text-green-600","mx-auto"],["d","M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2z"],["d","M9 12l2 2 4-4","stroke-linecap","round","stroke-linejoin","round"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"w-5","h-5","text-gray-400","mx-auto"],["x","3","y","3","width","18","height","18","rx","2","ry","2"]],template:function(n,o){n&1&&(i(0,"div",2)(1,"table",3,0)(3,"thead")(4,"tr"),f(5,Oe,4,6,"th",4),e()(),i(6,"tbody",5),f(7,Le,17,8,"tr",6),e()()()),n&2&&(l(5),m("ngForOf",o.tableHeaders),l(2),m("ngForOf",o.allPaymentDetails))},dependencies:[v,E,N,h],encapsulation:2})};function Re(t,r){t&1&&(i(0,"div")(1,"label",1),a(2," C.U.R.P "),e(),s(3,"input",17),e())}function qe(t,r){t&1&&(i(0,"div")(1,"label",1),a(2," Nombre "),e(),s(3,"input",18),e())}function He(t,r){t&1&&(i(0,"div")(1,"label",1),a(2," Apellido Paterno "),e(),s(3,"input",19),e())}function Be(t,r){t&1&&(i(0,"div")(1,"label",1),a(2," Apellido Materno "),e(),s(3,"input",20),e())}var Z=class t{detailsService=p(x);fb=p(A);informationForm=this.getInformationForm();get isFisica(){let r=!1;return this.detailsService.information$.subscribe(n=>{r=n.tipoPersona==="fisica"}),r}ngOnInit(){this.detailsService.information$.subscribe(r=>{this.informationForm.patchValue(r)})}getInformationForm(){return this.fb.group({clave:["",[d.required]],tipoPersona:[{value:"",disabled:!0},d.required],rfc:["",[d.required]],curp:[""],nombre:[""],apellidoPaterno:[""],apellidoMaterno:[""],razonSocial:["",[d.required]],direccionFiscal:["",[d.required]],colonia:["",[d.required]],ciudad:["",[d.required]],email:["",[d.required,d.email]],codigoPostal:["",[d.required]],estado:["",[d.required]]})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=b({type:t,selectors:[["app-information"]],decls:53,vars:5,consts:[[1,"grid","grid-cols-1","sm:grid-cols-2","gap-6","form-group",3,"formGroup"],[1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1","flex","items-center","space-x-8"],[1,"inline-flex","items-center"],["type","radio","formControlName","tipoPersona","name","tipoPersona","value","fisica","readonly","",1,"form-radio","text-green-600"],[1,"ml-2","text-gray-700"],["type","radio","formControlName","tipoPersona","name","tipoPersona","value","moral","readonly","",1,"form-radio","text-green-600"],["type","email","formControlName","email","name","email","readonly","",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"],["type","text","formControlName","clave","name","clave","readonly","",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"],["type","text","formControlName","rfc","name","rfc","readonly","",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"],[4,"ngIf"],["type","text","formControlName","razonSocial","name","razonSocial","readonly","",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"],["type","text","formControlName","direccionFiscal","name","direccionFiscal","readonly","",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"],["type","text","formControlName","colonia","name","colonia","readonly","",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"],["type","text","formControlName","ciudad","name","ciudad","readonly","",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"],["type","text","formControlName","codigoPostal","name","codigoPostal","readonly","",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"],["type","text","formControlName","estado","name","estado","readonly","",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"],["type","text","formControlName","curp","name","curp","readonly","",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"],["type","text","formControlName","nombre","name","nombre","readonly","",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"],["type","text","formControlName","apellidoPaterno","name","apellidoPaterno","readonly","",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"],["type","text","formControlName","apellidoMaterno","name","apellidoMaterno","readonly","",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"]],template:function(n,o){n&1&&(i(0,"div",0)(1,"div")(2,"label",1),a(3," Tipo de Persona "),e(),i(4,"div",2)(5,"label",3),s(6,"input",4),i(7,"span",5),a(8," F\xEDsica "),e()(),i(9,"label",3),s(10,"input",6),i(11,"span",5),a(12," Moral "),e()()()(),i(13,"div")(14,"label",1),a(15," E-mail "),e(),s(16,"input",7),e(),i(17,"div")(18,"label",1),a(19," Clave "),e(),s(20,"input",8),e(),i(21,"div")(22,"label",1),a(23," R.F.C. "),e(),s(24,"input",9),e(),f(25,Re,4,0,"div",10)(26,qe,4,0,"div",10)(27,He,4,0,"div",10)(28,Be,4,0,"div",10),i(29,"div")(30,"label",1),a(31," Raz\xF3n Social "),e(),s(32,"input",11),e(),i(33,"div")(34,"label",1),a(35," Direcci\xF3n Fiscal "),e(),s(36,"input",12),e(),i(37,"div")(38,"label",1),a(39," Colonia "),e(),s(40,"input",13),e(),i(41,"div")(42,"label",1),a(43," Ciudad "),e(),s(44,"input",14),e(),i(45,"div")(46,"label",1),a(47," C.P. "),e(),s(48,"input",15),e(),i(49,"div")(50,"label",1),a(51," Estado "),e(),s(52,"input",16),e()()),n&2&&(m("formGroup",o.informationForm),l(25),m("ngIf",o.isFisica),l(),m("ngIf",o.isFisica),l(),m("ngIf",o.isFisica),l(),m("ngIf",o.isFisica))},dependencies:[v,h,I,k,$,F,M,P,V,O],encapsulation:2})};var U=class t{fb=p(A);detailsService=p(x);conditionsForm=this.createConditionsForm();get dias(){let r=0;return this.detailsService.conditions$.subscribe(n=>{r=n.dias}),r}ngOnInit(){this.detailsService.conditions$.subscribe(r=>{this.conditionsForm.patchValue(r)})}createConditionsForm(){return this.fb.group({anticipo:[0,[d.required,d.min(0),d.max(100)]],restante:[100],tipoPago:[{value:"",disabled:!0},d.required],lineaCredito:[25e5,[d.required,d.min(0)]],iva:[16,[d.required,d.min(0),d.max(100)]],retencionIva:[0,[d.min(0),d.max(100)]],retencionIsr:[0,[d.min(0),d.max(100)]],vencimiento:[{value:"",disabled:!0},d.required],pagoTransferencia:[{value:!1,disabled:!0},[d.required]]})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=b({type:t,selectors:[["app-conditions"]],decls:59,vars:2,consts:[[1,"grid","grid-cols-1","sm:grid-cols-2","gap-6","form-group",3,"formGroup"],[1,"sm:col-span-2"],[1,"grid","grid-cols-1","sm:grid-cols-3","gap-4"],[1,"block","text-sm","font-medium","text-gray-700"],["type","number","formControlName","anticipo","min","0","max","100","readonly","",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"],["type","number","formControlName","restante","readonly","",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"],[1,"flex","items-center","gap-4","mt-1"],[1,"flex","items-center"],["type","radio","formControlName","tipoPago","value","ContraEntrega","readonly","",1,"form-radio","text-green-600"],[1,"ml-2","text-gray-700"],["type","radio","formControlName","tipoPago","value","Credito","readonly","",1,"form-radio","text-green-600"],["type","number","formControlName","lineaCredito","min","0","readonly","",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"],["type","radio","formControlName","vencimiento","value","FechaFactura","readonly","",1,"form-radio","text-green-600"],["type","radio","formControlName","vencimiento","value","FechaRecepcion","readonly","",1,"form-radio","text-green-600"],["type","checkbox","formControlName","pagoTransferencia","readonly","",1,"form-checkbox","checkbox","bg-gray-50","text-green-600","shadow-sm","rounded","border-gray-400"],["type","number","formControlName","iva","min","0","max","100","readonly","",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"],["type","number","formControlName","retencionIva","min","0","max","100","readonly","",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"],["type","number","formControlName","retencionIsr","min","0","max","100","readonly","",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"]],template:function(n,o){n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"label",3),a(5," % Anticipo "),e(),s(6,"input",4),e(),i(7,"div")(8,"label",3),a(9," % Restante "),e(),s(10,"input",5),e(),i(11,"div")(12,"label",3),a(13," Tipo de Pago "),e(),i(14,"div",6)(15,"label",7),s(16,"input",8),i(17,"span",9),a(18," Contra entrega "),e()(),i(19,"label",7),s(20,"input",10),i(21,"span",9),a(22),e()()()()()(),i(23,"div",1)(24,"div",2)(25,"div")(26,"label",3),a(27," L\xEDnea de cr\xE9dito (MXN) "),e(),s(28,"input",11),e(),i(29,"div")(30,"label",3),a(31,"Vencimiento"),e(),i(32,"div",6)(33,"label",7),s(34,"input",12),i(35,"span",9),a(36," Fecha factura "),e()(),i(37,"label",7),s(38,"input",13),i(39,"span",9),a(40," Fecha recepci\xF3n "),e()()()(),i(41,"div",7),s(42,"input",14),i(43,"span",9),a(44," Pago con transferencia "),e()()()(),i(45,"div",1)(46,"div",2)(47,"div")(48,"label",3),a(49," % IVA "),e(),s(50,"input",15),e(),i(51,"div")(52,"label",3),a(53," % Retenci\xF3n IVA "),e(),s(54,"input",16),e(),i(55,"div")(56,"label",3),a(57," % Retenci\xF3n ISR "),e(),s(58,"input",17),e()()()()),n&2&&(m("formGroup",o.conditionsForm),l(22),u(" Cr\xE9dito a ",o.dias," d\xEDas "))},dependencies:[v,I,k,Ce,ve,$,F,M,Ee,_e,P,V,O],encapsulation:2})};var X=class t{http=p(fe);changePassword(r){return re(()=>this.http.post(`${ge.API_URL}/ReestablecePassword.aspx`,r))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})};var je=t=>({"disabled:bg-gray-500":t});function $e(t,r){t&1&&(i(0,"p",13),a(1," La actual contrase\xF1a debe tener al menos 3 caracteres "),e())}function ze(t,r){t&1&&(i(0,"p",13),a(1," La nueva contrase\xF1a debe tener al menos 3 caracteres "),e())}function Qe(t,r){t&1&&(i(0,"p",13),a(1," La confirmaci\xF3n es requerida "),e())}function We(t,r){t&1&&(i(0,"p",13),a(1," Las contrase\xF1as no coinciden "),e())}function Ze(t,r){if(t&1&&(i(0,"div"),f(1,Qe,2,0,"p",4)(2,We,2,0,"p",4),e()),t&2){let n,o=y();l(),m("ngIf",(n=o.passwordForm.get("confirmPassword"))==null||n.errors==null?null:n.errors.required),l(),m("ngIf",o.passwordForm.errors==null?null:o.passwordForm.errors.passwordMismatch)}}function Ue(t,r){if(t&1&&(i(0,"p"),a(1),e()),t&2){let n,o=y();l(),u(" ",((n=o.passwordForm.get("newPassword"))==null?null:n.value)!==((n=o.passwordForm.get("confirmPassword"))==null?null:n.value)?"Las contrase\xF1as no coinciden":"Complete los campos"," ")}}function Xe(t,r){t&1&&(i(0,"p",14),C(),i(1,"svg",15),s(2,"path",16)(3,"path",17),e(),a(4," Espere un momento... "),e())}function Je(t,r){t&1&&(i(0,"p",18)(1,"span",19),a(2," Guardar "),e()())}function Ke(t,r){t&1&&s(0,"app-loader",20),t&2&&m("message","Cambiando contrase\xF1a...")}var J=class t{passwordsService=p(X);helperService=p(B);authService=p(j);fb=p(A);passwordForm=this.createPasswordForm();isLoading=!1;isActiveLoader=!1;createPasswordForm(){let r=this.fb.group({currentPassword:["",d.required],newPassword:["",[d.required]],confirmPassword:["",d.required]},{validator:Ie.passwordsMatch});return r.get("newPassword")?.valueChanges.subscribe(()=>{r.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}),r.get("confirmPassword")?.valueChanges.subscribe(()=>{r.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}),r}changePassword(){this.isLoading=!0;let{currentPassword:r,newPassword:n,confirmPassword:o}=this.passwordForm.value,c=new FormData;c.append("passactual",r),c.append("pass1",n),c.append("pass2",o),this.isLoading=!0,setTimeout(()=>{this.isLoading=!1,this.isActiveLoader=!0,this.passwordsService.changePassword(c).subscribe({next:g=>ne(this,null,function*(){let{done:w,msg:S,correo:D,rfc:ut}=g;if(w&&!w.toLowerCase().includes("true"))return void this.helperService.toastAlert({title:S.length?S:"Algo salio mal",icon:"error",timer:2e3,position:"top"});this.authService.logoutSession().subscribe({complete:()=>{this.helperService.toastAlert({title:S.length?S:"Algo salio mal",icon:"info",timer:2e3,position:"top",timerProgressBar:!0})}})}),complete:()=>{this.isActiveLoader=!1,this.isLoading=!1}})},1500)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=b({type:t,selectors:[["app-passwords"]],decls:24,vars:14,consts:[[1,"grid","grid-cols-1","gap-6","max-w-md","mx-auto","form-group",3,"ngSubmit","formGroup"],[1,"text-xl","font-semibold","text-gray-800","text-center"],[1,"block","text-sm","font-medium","text-gray-700"],["type","password","formControlName","currentPassword","name","currentPassword",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500"],["class","text-red-500 text-sm",4,"ngIf"],["type","password","formControlName","newPassword","name","newPassword",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500",3,"readOnly"],["type","password","formControlName","confirmPassword","name","confirmPassword",1,"form-input","mt-1","block","w-full","rounded-md","bg-gray-50","border-gray-300","shadow-sm","focus:ring-green-500","focus:border-green-500",3,"readOnly"],[4,"ngIf"],[1,"text-center"],["type","submit",1,"bg-green-500","text-white","px-6","py-3","rounded-lg","shadow-md","hover:bg-green-600","transition",3,"disabled","ngClass"],["class","flex items-center justify-center",4,"ngIf"],["class","inline-flex items-end",4,"ngIf"],[3,"message",4,"ngIf"],[1,"text-red-500","text-sm"],[1,"flex","items-center","justify-center"],["aria-hidden","true","role","status","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"inline","w-4","h-4","me-3","text-white","animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","#E5E7EB"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentColor"],[1,"inline-flex","items-end"],[1,"flex-grow","text-center"],[3,"message"]],template:function(n,o){if(n&1&&(i(0,"form",0),T("ngSubmit",function(){return o.changePassword()}),i(1,"h2",1),a(2," Cambiar contrase\xF1a "),e(),i(3,"div")(4,"label",2),a(5," Contrase\xF1a actual "),e(),s(6,"input",3),f(7,$e,2,0,"p",4),e(),i(8,"div")(9,"label",2),a(10," Nueva contrase\xF1a "),e(),s(11,"input",5),f(12,ze,2,0,"p",4),e(),i(13,"div")(14,"label",2),a(15," Confirmar nueva contrase\xF1a "),e(),s(16,"input",6),f(17,Ze,3,2,"div",7),e(),i(18,"div",8)(19,"button",9),f(20,Ue,2,1,"p",7)(21,Xe,5,0,"p",10)(22,Je,3,0,"p",11),e()()(),f(23,Ke,1,1,"app-loader",12)),n&2){let c,g,w,S,D;m("formGroup",o.passwordForm),l(7),m("ngIf",((c=o.passwordForm.get("currentPassword"))==null?null:c.invalid)&&((c=o.passwordForm.get("currentPassword"))==null?null:c.touched)),l(4),m("readOnly",((g=o.passwordForm.get("currentPassword"))==null?null:g.value)===""),l(),m("ngIf",((w=o.passwordForm.get("newPassword"))==null?null:w.invalid)&&((w=o.passwordForm.get("newPassword"))==null?null:w.touched)),l(4),m("readOnly",((S=o.passwordForm.get("newPassword"))==null?null:S.value)===""),l(),m("ngIf",((D=o.passwordForm.get("confirmPassword"))==null?null:D.touched)||((D=o.passwordForm.get("newPassword"))==null?null:D.touched)),l(2),m("disabled",o.passwordForm.invalid||o.isLoading)("ngClass",_(12,je,o.passwordForm.invalid)),l(),m("ngIf",o.passwordForm.invalid),l(),m("ngIf",o.isLoading),l(),m("ngIf",!o.passwordForm.invalid&&!o.isLoading),l(),m("ngIf",o.isActiveLoader)}},dependencies:[v,E,h,I,we,k,F,M,P,V,O,Fe],encapsulation:2})};var Ye=["contactsTable"],et=t=>({"flex items-center":t});function tt(t,r){t&1&&(C(),i(0,"svg",9),s(1,"path",10),e())}function it(t,r){if(t&1&&(i(0,"th",6)(1,"span",7),a(2),f(3,tt,2,0,"svg",8),e()()),t&2){let n=r.$implicit,o=y();l(),m("ngClass",_(3,et,o.isSortable)),l(),u(" ",n," "),l(),m("ngIf",o.isSortable)}}function nt(t,r){if(t&1&&(i(0,"tr",11)(1,"td",12),a(2),e(),i(3,"td",12),a(4),e(),i(5,"td",12),a(6),e(),i(7,"td",12),a(8),e(),i(9,"td",12),a(10),e(),i(11,"td",12),a(12),e()()),t&2){let n=r.$implicit;l(2),u(" ",n.tipoContacto," "),l(2),u(" ",n.nombre," "),l(2),u(" ",n.telefono," "),l(2),u(" ",n.celular," "),l(2),u(" ",n.otroCelular," "),l(2),u(" ",n.email," ")}}var K=class t{contactService=p(De);dataTableService=p(z);detailsService=p(x);tableHeaders=this.contactService.getTableHeaders();allContacts=[];isSortable=!1;contactsTable;dt;ngOnInit(){this.detailsService.contacts$.subscribe(r=>{this.allContacts=r}),this.isSortable=this.allContacts.length>1}deleteDataTable(){this.dt&&this.dt.destroy()}ngAfterViewInit(){this.deleteDataTable(),this.dt=this.dataTableService.createDataTable({htmlElementTable:this.contactsTable.nativeElement,searchable:!0,perPage:5,perPageSelect:!1,sortable:this.isSortable,paging:!0})}ngOnDestroy(){this.deleteDataTable()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=b({type:t,selectors:[["app-contacts"]],viewQuery:function(n,o){if(n&1&&R(Ye,5),n&2){let c;q(c=H())&&(o.contactsTable=c.first)}},decls:8,vars:2,consts:[["contactsTable",""],[1,"overflow-x-auto","rounded-lg"],[1,"min-w-full","divide-y","divide-gray-300","rounded-lg"],["class","bg-green-600 text-white px-4 py-2 text-sm font-medium tracking-wider",4,"ngFor","ngForOf"],[1,"bg-white","divide-y","divide-gray-300"],["class","border-b hover:bg-gray-50 text-center",4,"ngFor","ngForOf"],[1,"bg-green-600","text-white","px-4","py-2","text-sm","font-medium","tracking-wider"],[1,"uppercase",3,"ngClass"],["class","w-4 h-4 ms-1","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-4","h-4","ms-1"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m8 15 4 4 4-4m0-6-4-4-4 4"],[1,"border-b","hover:bg-gray-50","text-center"],[1,"px-4","py-2"]],template:function(n,o){n&1&&(i(0,"div",1)(1,"table",2,0)(3,"thead")(4,"tr"),f(5,it,4,5,"th",3),e()(),i(6,"tbody",4),f(7,nt,13,6,"tr",5),e()()()),n&2&&(l(5),m("ngForOf",o.tableHeaders),l(2),m("ngForOf",o.allContacts))},dependencies:[v,E,N,h],encapsulation:2})};var rt=t=>({"bg-green-50 border-green-600 text-green-600 border-b-2":t});function ot(t,r){if(t&1){let n=te();i(0,"li",12)(1,"button",13),T("click",function(){let c=Y(n).$implicit,g=y();return ee(g.setActiveTab({tabId:c.id}))}),a(2),e()()}if(t&2){let n=r.$implicit,o=y();m("ngClass",_(2,rt,o.activeTab===n.id)),l(2),u(" ",n.name," ")}}function at(t,r){if(t&1&&(i(0,"option",14),a(1),e()),t&2){let n=r.$implicit;m("value",n.id),l(),u(" ",n.name," ")}}function lt(t,r){t&1&&s(0,"app-information")}function st(t,r){t&1&&s(0,"app-contacts")}function mt(t,r){t&1&&s(0,"app-payment-details")}function dt(t,r){t&1&&s(0,"app-conditions")}function pt(t,r){t&1&&s(0,"app-passwords")}function ct(t,r){if(t&1){let n=te();i(0,"div",15)(1,"button",16),T("click",function(){Y(n);let c=y();return ee(c.redirectToContact())}),C(),i(2,"svg",17),s(3,"path",18),e(),a(4," Cambios y aclaraciones "),e()()}}var Ne=class t{detailService=p(x);router=p(be);authService=p(j);helperService=p(B);title="Informaci\xF3n del proveedor";tabs=this.detailService.getTabs();activeTab=this.tabs[0].id;ngOnInit(){this.loadDetails()}setActiveTab({tabId:r}){this.activeTab=r}redirectToContact(){this.router.navigate(["/contact"])}loadDetails(){this.detailService.detailRequest().subscribe({next:r=>{let{token:n,details:o,datosPago:c,contacts:g}=r;if(n.toLowerCase().includes("invalid"))return void this.authService.logoutSession().subscribe({complete:()=>this.helperService.toastAlert({title:"Sesion Expirada",icon:"warning",timer:2e3,position:"top"})});let{Table:[w]}=o,{Table:S}=g,{Table:D}=c;this.detailService.updateInformation(w),this.detailService.updateConditions(w),this.detailService.updateContacts(S),this.detailService.updatePaymentDetails(D)}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=b({type:t,selectors:[["app-details"]],decls:16,vars:10,consts:[[3,"titleSection"],[1,"bg-white","rounded-lg","shadow-xl"],[1,"border-b","border-gray-300"],[1,"md:flex","hidden"],["role","tablist",1,"flex","flex-wrap","-mb-px","text-sm","text-center"],["class","mr-4",3,"ngClass",4,"ngFor","ngForOf"],[1,"md:hidden"],[1,"block","w-full","bg-white","border-gray-300","text-gray-700","p-2","rounded-md","shadow-sm","focus:ring-green-500","focus:border-green-500",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"p-6"],[4,"ngIf"],["class","sm:col-span-2 text-center mt-10",4,"ngIf"],[1,"mr-4",3,"ngClass"],[1,"inline-block","p-4","border-b-0","hover:border-gray-600","hover:text-green-600",3,"click"],[3,"value"],[1,"sm:col-span-2","text-center","mt-10"],[1,"inline-flex","items-center","bg-green-500","text-white","px-6","py-3","rounded-lg","shadow-md","hover:bg-green-600","transition","mx-auto",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M16.5 9.4L12 13.5 7.5 9.4M3 7c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2v10c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V7z"]],template:function(n,o){n&1&&(i(0,"app-panel",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ul",4),f(5,ot,3,4,"li",5),e()(),i(6,"div",6)(7,"select",7),ce("ngModelChange",function(g){return pe(o.activeTab,g)||(o.activeTab=g),g}),T("change",function(){return o.setActiveTab({tabId:o.activeTab})}),f(8,at,2,2,"option",8),e()()(),i(9,"div",9),f(10,lt,1,0,"app-information",10)(11,st,1,0,"app-contacts",10)(12,mt,1,0,"app-payment-details",10)(13,dt,1,0,"app-conditions",10)(14,pt,1,0,"app-passwords",10)(15,ct,5,0,"div",11),e()()()),n&2&&(m("titleSection",o.title),l(5),m("ngForOf",o.tabs),l(2),de("ngModel",o.activeTab),l(),m("ngForOf",o.tabs),l(2),m("ngIf",o.activeTab==="information"),l(),m("ngIf",o.activeTab==="contacts"),l(),m("ngIf",o.activeTab==="payment"),l(),m("ngIf",o.activeTab==="conditions"),l(),m("ngIf",o.activeTab==="password"),l(),m("ngIf",o.activeTab!=="password"))},dependencies:[v,E,N,h,I,xe,Se,he,F,ye,P,Z,K,Q,U,J,Te],encapsulation:2})};export{Ne as DetailsComponent};
